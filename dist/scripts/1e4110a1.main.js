window._debugging=!1;var graph=[],globalLongestPath=-1,globalDrop=-1,globalSmallestEndPointValue=Number.MAX_VALUE,startPointValue=0,endPointValue=0,currentLongestPath=0,currentSmallestEndPointValue=Number.MAX_VALUE,gridDimension=0,pathTaken=[],pathForCSS=[];$(document).ready(function(){var a=[];$.get("./map.txt",function(b){a=b.split("\n");for(var c=0;c<a.length;c++)graph.push(a[c].split(" ").map(Number));window._debugging?(gridDimension=35,createTheMap(),enableStepByStepTesting()):(window.console={},console.log=function(){},gridDimension=graph.length,testInLoop())})});var enableStepByStepTesting=function(){var a=0,b=0;$("#next").bind("click",function(){for(var c=0;c<pathForCSS.length;c++)$(pathForCSS[c]).removeClass("active");testStepByStep(a,b),gridDimension>b?b++:(a++,b=0)})},testStepByStep=function(a,b){startPointValue=endPointValue=currentSmallestEndPointValue=graph[a][b],currentLongestPath=0,console.log("-----------------------------------"),console.log("startPointValue "+startPointValue),gridChecker(a,b,0),currentLongestPath>=globalLongestPath&&(globalLongestPath=currentLongestPath,globalSmallestEndPointValue=currentSmallestEndPointValue,globalDrop=startPointValue-currentSmallestEndPointValue),console.log("-----------------------------------")},testInLoop=function(){for(var a=0;gridDimension>a;a++)for(var b=0;gridDimension>b;b++)startPointValue=endPointValue=currentSmallestEndPointValue=graph[a][b],currentLongestPath=0,gridChecker(a,b,0),currentLongestPath>=globalLongestPath&&(globalLongestPath=currentLongestPath,globalSmallestEndPointValue=currentSmallestEndPointValue,globalDrop=startPointValue-currentSmallestEndPointValue);console.log("--- THE LONGEST PATH FOR SKIING ---"),console.log("email: "+globalLongestPath.toString(10)+globalDrop.toString(10)+"@redmart.com"),console.log("-----------------------------------"),document.writeln("globalLongestPath "+globalLongestPath),document.writeln("<br >globalSmallestEndPointValue "+globalSmallestEndPointValue),document.writeln("<br >globalDrop "+globalDrop),document.writeln("<br >email: "+globalLongestPath.toString(10)+globalDrop.toString(10)+"@redmart.com")},gridChecker=function(a,b,c){window._debugging&&($("#cell"+a+"_"+b).addClass("active"),pathForCSS.push("#cell"+a+"_"+b));var d=graph[a][b],e=c+1,f=returnNeighbours(a,b),g=b,h=a,i=!0;pathTaken.push(d);for(var j=0;4>j;j++)if("number"!=typeof f[j]&&alert("WARNING "+f[j]),-1!=f[j]&&d>f[j]){switch(j){case 0:pathTaken.push("↑"),h=a-1,g=b;break;case 1:pathTaken.push("→"),h=a,g=b+1;break;case 2:pathTaken.push("↓"),h=a+1,g=b;break;case 3:pathTaken.push("←"),h=a,g=b-1}i=!1,gridChecker(h,g,e)}i&&(endPointValue=graph[a][b],console.log("=== End of Path"),console.log("pathTaken "+pathTaken),pathTaken=[],e>=currentLongestPath&&(currentLongestPath=e,currentSmallestEndPointValue>d&&(currentSmallestEndPointValue=d)))},returnNeighbours=function(a,b){var c=a>0?graph[a-1][b]:-1,d=a<graph.length-1?graph[a+1][b]:-1,e=b<graph.length-1?graph[a][b+1]:-1,f=b>0?graph[a][b-1]:-1;return[c,e,d,f]},createTheMap=function(){for(var a=0,b=0,c=30,d=0;gridDimension>d;d++){b+=c;for(var e=0;gridDimension>e;e++)a=e*c,$("<div/>",{id:"cell"+d+"_"+e,"class":"cell",html:graph[d][e],style:"top:"+b+"px; left: "+a+"px;"}).appendTo("#mainContainer")}};